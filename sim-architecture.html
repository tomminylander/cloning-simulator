<h2>Overview of the Cloning-Simulator architecture</h2>
<p>This document gives some additional details on the structure of the simulator and how a request is processed all the way from generation to completion.</p>
<h3><strong>General architecture<br /></strong></h3>
<div>The simulator is driven by discrete events and consists of the following main classes:</div>
<ul>
<li>SimulatorKernel: Contains the main event-driven loop</li>
<li>Request: Describes a request in our simulator</li>
<li>Client: Handles request generation</li>
<li>LoadBalancer: Directs requests to servers</li>
<li>Cloner: Responsible for cloning of requests</li>
<li>Server: Handles the processing of requests</li>
</ul>
<div>In the simulator we include the options to define:</div>
<ul>
<li>number of servers</li>
<li>inter-arrival time distribution</li>
<li>service time distributions for all servers</li>
<li>cloning factor</li>
<li>load-balancing strategy</li>
<li>arrival and cancellation delays</li>
</ul>
<div>The arrival and service time distributions can be heterogeneous and we allow the user to set them based on empirical CDF data.</div>
<div>&nbsp;</div>
<div>The main method that runs the simulations is located in the file simulator.py. There arguments are parsed, instances of classes are created and the main event-driven loop is started.</div>
<h3><strong>Simulating a single request</strong></h3>
<p>The following sequence describes how a request proceeds through our simulator:</p>
<ol>
<li>A request is generated by an event in an instance of the Client class</li>
<li>The request is sent to the LoadBalancer class and reaches the entry point method request()</li>
<li>The request is cloned according to the clone factor set</li>
<li>All request clones are assigned a server according the chosen load-balancing algorithm</li>
<li>All request clones are sent to their chosen servers and reach their corresponding server entry point methods request()</li>
<li>All request clones are processed in the servers</li>
<li>When the first clone completes, it reports its completion through a completion event. Simultaneously, cancellation events are issued for the remaining clones</li>
<li>The response time and other metrics are saved in the Client class</li>
</ol>
<h3>&nbsp;</h3>
<p>&nbsp;</p>
